<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Panel - E-Gyan Blog</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --primary-color: #4361ee;
            --primary-dark: #3a56d4;
            --secondary-color: #f72585;
            --accent-color: #4cc9f0;
            --dark-color: #14213d;
            --light-color: #f8f9fa;
            --lighter-color: #ffffff;
            --text-color: #2b2d42;
            --text-light: #8d99ae;
            --success-color: #4cc9f0;
            --danger-color: #f72585;
            --warning-color: #f8961e;
            --shadow-sm: 0 1px 3px rgba(0, 0, 0, 0.12);
            --shadow-md: 0 4px 6px rgba(0, 0, 0, 0.1);
            --shadow-lg: 0 10px 15px rgba(0, 0, 0, 0.1);
            --shadow-xl: 0 20px 25px rgba(0, 0, 0, 0.1);
            --transition: all 0.4s cubic-bezier(0.645, 0.045, 0.355, 1);
            --transition-fast: all 0.2s ease;
            --border-radius: 12px;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Poppins', sans-serif;
        }

        body {
            background-color: #f8fafc;
            color: var(--text-color);
            line-height: 1.7;
        }

        .admin-container {
            display: flex;
            min-height: 100vh;
        }

        /* Sidebar Styles */
        .sidebar {
            width: 250px;
            background: white;
            box-shadow: var(--shadow-md);
            position: fixed;
            height: 100vh;
            z-index: 100;
            transition: var(--transition);
        }

        .sidebar-header {
            padding: 20px;
            border-bottom: 1px solid rgba(0, 0, 0, 0.1);
            display: flex;
            align-items: center;
        }

        .sidebar-logo {
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            background: var(--primary-color);
            border-radius: 8px;
            color: white;
            font-weight: bold;
        }

        .sidebar-logo img {
            width: 100%;
            height: 100%;
            object-fit: contain;
        }

        .sidebar-title {
            margin-left: 12px;
            font-family: 'Montserrat', sans-serif;
            font-weight: 700;
            font-size: 1.1rem;
            color: var(--dark-color);
        }

        .sidebar-menu {
            padding: 20px 0;
        }

        .menu-item {
            display: flex;
            align-items: center;
            padding: 12px 20px;
            color: var(--text-light);
            text-decoration: none;
            transition: var(--transition);
        }

        .menu-item i {
            margin-right: 12px;
            width: 20px;
            text-align: center;
            font-size: 1.1rem;
        }

        .menu-item.active, .menu-item:hover {
            color: var(--primary-color);
            background-color: rgba(67, 97, 238, 0.1);
            border-left: 3px solid var(--primary-color);
        }

        /* Main Content Styles */
        .main-content {
            flex: 1;
            margin-left: 250px;
            transition: var(--transition);
        }

        .admin-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 18px 30px;
            background: white;
            box-shadow: var(--shadow-sm);
            position: sticky;
            top: 0;
            z-index: 10;
        }

        .header-title h1 {
            font-size: 1.5rem;
            color: var(--dark-color);
        }

        .header-title p {
            font-size: 0.85rem;
            color: var(--text-light);
        }

        .user-profile {
            display: flex;
            align-items: center;
            position: relative;
            cursor: pointer;
        }

        .user-profile img {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            margin-right: 12px;
            object-fit: cover;
        }

        .user-info h4 {
            font-size: 0.9rem;
            margin-bottom: 3px;
        }

        .user-info p {
            font-size: 0.75rem;
            color: var(--text-light);
        }

        .profile-dropdown {
            position: absolute;
            top: 100%;
            right: 0;
            background: white;
            border-radius: var(--border-radius);
            box-shadow: var(--shadow-md);
            width: 200px;
            padding: 10px 0;
            z-index: 100;
            display: none;
        }

        .profile-dropdown.active {
            display: block;
        }

        .dropdown-item {
            padding: 10px 15px;
            display: flex;
            align-items: center;
            color: var(--text-color);
            text-decoration: none;
            transition: var(--transition);
        }

        .dropdown-item i {
            margin-right: 10px;
            width: 20px;
            text-align: center;
        }

        .dropdown-item:hover {
            background-color: rgba(67, 97, 238, 0.1);
            color: var(--primary-color);
        }

        /* Admin Content Styles */
        .admin-content {
            padding: 30px;
        }

        /* Dashboard Stats */
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 20px;
            margin-bottom: 30px;
        }

        .stat-card {
            background: white;
            border-radius: var(--border-radius);
            padding: 20px;
            box-shadow: var(--shadow-md);
            display: flex;
            align-items: center;
            transition: var(--transition);
        }

        .stat-card:hover {
            transform: translateY(-5px);
            box-shadow: var(--shadow-lg);
        }

        .stat-icon {
            width: 50px;
            height: 50px;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 15px;
            color: white;
            font-size: 1.2rem;
        }

        .stat-info h3 {
            font-size: 1.8rem;
            margin-bottom: 5px;
        }

        .stat-info p {
            font-size: 0.8rem;
            color: var(--text-light);
        }

        .card-primary .stat-icon {
            background-color: var(--primary-color);
        }

        .card-success .stat-icon {
            background-color: var(--success-color);
        }

        .card-warning .stat-icon {
            background-color: var(--warning-color);
        }

        .card-danger .stat-icon {
            background-color: var(--danger-color);
        }

        /* Recent Activity */
        .activity-card {
            background: white;
            border-radius: var(--border-radius);
            padding: 25px;
            box-shadow: var(--shadow-md);
            margin-bottom: 30px;
        }

        .activity-card h2 {
            margin-bottom: 20px;
            color: var(--primary-color);
            font-size: 1.3rem;
            padding-bottom: 10px;
            border-bottom: 1px solid rgba(0, 0, 0, 0.1);
        }

        .activity-item {
            display: flex;
            align-items: flex-start;
            padding: 15px 0;
            border-bottom: 1px solid rgba(0, 0, 0, 0.05);
        }

        .activity-item:last-child {
            border-bottom: none;
        }

        .activity-icon {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background-color: rgba(67, 97, 238, 0.1);
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 15px;
            color: var(--primary-color);
        }

        .activity-content h4 {
            font-size: 0.95rem;
            margin-bottom: 5px;
        }

        .activity-content p {
            font-size: 0.8rem;
            color: var(--text-light);
        }

        .activity-time {
            font-size: 0.75rem;
            color: var(--text-light);
            margin-top: 5px;
            display: flex;
            align-items: center;
        }

        .activity-time i {
            margin-right: 5px;
        }

        /* Form Styles */
        .form-card {
            background: white;
            border-radius: var(--border-radius);
            padding: 25px;
            box-shadow: var(--shadow-md);
            margin-bottom: 30px;
        }

        .form-card h2 {
            margin-bottom: 20px;
            color: var(--primary-color);
            font-size: 1.3rem;
            padding-bottom: 10px;
            border-bottom: 1px solid rgba(0, 0, 0, 0.1);
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 500;
            color: var(--dark-color);
        }

        .form-control {
            width: 100%;
            padding: 12px 15px;
            border: 1px solid #ddd;
            border-radius: var(--border-radius);
            font-size: 0.95rem;
            transition: var(--transition);
        }

        .form-control:focus {
            outline: none;
            border-color: var(--primary-color);
            box-shadow: 0 0 0 3px rgba(67, 97, 238, 0.2);
        }

        textarea.form-control {
            min-height: 150px;
            resize: vertical;
        }

        .form-row {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 20px;
        }

        .btn {
            padding: 12px 25px;
            border: none;
            border-radius: 50px;
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
            display: inline-flex;
            align-items: center;
            justify-content: center;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            font-size: 0.85rem;
        }

        .btn i {
            margin-right: 8px;
        }

        .btn-primary {
            background: linear-gradient(135deg, var(--primary-color), var(--accent-color));
            color: white;
            box-shadow: 0 4px 15px rgba(67, 97, 238, 0.3);
        }

        .btn-primary:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(67, 97, 238, 0.4);
        }

        .btn-outline {
            background: transparent;
            color: var(--primary-color);
            border: 2px solid var(--primary-color);
        }

        .btn-outline:hover {
            background: var(--primary-color);
            color: var(--lighter-color);
        }

        .btn-danger {
            background: var(--danger-color);
            color: white;
            box-shadow: 0 4px 15px rgba(247, 37, 133, 0.3);
        }

        .btn-danger:hover {
            background: #e5177b;
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(247, 37, 133, 0.4);
        }

        /* Image Upload Styles */
        .image-upload {
            position: relative;
            margin-bottom: 20px;
        }

        .image-upload img {
            max-width: 100%;
            max-height: 200px;
            border-radius: var(--border-radius);
            display: block;
            margin-bottom: 10px;
            object-fit: cover;
        }

        .image-upload input[type="file"] {
            position: absolute;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            opacity: 0;
            cursor: pointer;
        }

        .upload-btn {
            display: inline-flex;
            align-items: center;
            padding: 10px 15px;
            background-color: rgba(67, 97, 238, 0.1);
            color: var(--primary-color);
            border-radius: var(--border-radius);
            font-size: 0.9rem;
            cursor: pointer;
            transition: var(--transition);
        }

        .upload-btn:hover {
            background-color: rgba(67, 97, 238, 0.2);
        }

        .upload-btn i {
            margin-right: 8px;
        }

        /* Blog List Styles */
        .blog-list {
            background: white;
            border-radius: var(--border-radius);
            box-shadow: var(--shadow-md);
            overflow: hidden;
        }

        .table-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px 25px;
            border-bottom: 1px solid rgba(0, 0, 0, 0.1);
        }

        .table-header h3 {
            font-size: 1.1rem;
            color: var(--dark-color);
        }

        .search-box {
            position: relative;
        }

        .search-box input {
            padding: 8px 15px 8px 35px;
            border: 1px solid #ddd;
            border-radius: 50px;
            font-size: 0.85rem;
            width: 200px;
            transition: var(--transition);
        }

        .search-box input:focus {
            outline: none;
            border-color: var(--primary-color);
            width: 250px;
        }

        .search-box i {
            position: absolute;
            left: 12px;
            top: 50%;
            transform: translateY(-50%);
            color: var(--text-light);
            font-size: 0.9rem;
        }

        table {
            width: 100%;
            border-collapse: collapse;
        }

        th, td {
            padding: 15px 25px;
            text-align: left;
            border-bottom: 1px solid rgba(0, 0, 0, 0.05);
        }

        th {
            font-weight: 600;
            color: var(--dark-color);
            font-size: 0.8rem;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        td {
            font-size: 0.9rem;
            color: var(--dark-color);
        }

        .status {
            display: inline-block;
            padding: 5px 10px;
            border-radius: 50px;
            font-size: 0.75rem;
            font-weight: 500;
        }

        .status-published {
            background-color: rgba(76, 201, 240, 0.1);
            color: var(--success-color);
        }

        .status-draft {
            background-color: rgba(248, 150, 30, 0.1);
            color: var(--warning-color);
        }

        .action-btn {
            padding: 8px 12px;
            border: none;
            border-radius: var(--border-radius);
            font-size: 0.8rem;
            cursor: pointer;
            transition: var(--transition);
            margin-right: 5px;
            display: inline-flex;
            align-items: center;
        }

        .action-btn i {
            margin-right: 5px;
        }

        .edit-btn {
            background-color: rgba(67, 97, 238, 0.1);
            color: var(--primary-color);
        }

        .edit-btn:hover {
            background-color: rgba(67, 97, 238, 0.2);
        }

        .delete-btn {
            background-color: rgba(247, 37, 133, 0.1);
            color: var(--danger-color);
        }

        .delete-btn:hover {
            background-color: rgba(247, 37, 133, 0.2);
        }

        .pagination {
            display: flex;
            justify-content: flex-end;
            padding: 15px 25px;
            border-top: 1px solid rgba(0, 0, 0, 0.1);
        }

        .page-item {
            margin: 0 5px;
        }

        .page-link {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 35px;
            height: 35px;
            border-radius: 50%;
            background-color: white;
            border: 1px solid #ddd;
            color: var(--dark-color);
            text-decoration: none;
            font-size: 0.85rem;
            transition: var(--transition);
        }

        .page-link:hover, .page-link.active {
            background: linear-gradient(135deg, var(--primary-color), var(--accent-color));
            color: white;
            border-color: var(--primary-color);
        }

        /* User Management */
        .user-card {
            background: white;
            border-radius: var(--border-radius);
            padding: 25px;
            box-shadow: var(--shadow-md);
            margin-bottom: 30px;
        }

        .user-card h2 {
            margin-bottom: 20px;
            color: var(--primary-color);
            font-size: 1.3rem;
            padding-bottom: 10px;
            border-bottom: 1px solid rgba(0, 0, 0, 0.1);
        }

        .user-role {
            display: inline-block;
            padding: 5px 10px;
            border-radius: 50px;
            font-size: 0.75rem;
            font-weight: 500;
            margin-left: 10px;
        }

        .role-admin {
            background-color: rgba(247, 37, 133, 0.1);
            color: var(--danger-color);
        }

        .role-editor {
            background-color: rgba(67, 97, 238, 0.1);
            color: var(--primary-color);
        }

        .role-author {
            background-color: rgba(76, 201, 240, 0.1);
            color: var(--success-color);
        }

        /* Settings */
        .settings-card {
            background: white;
            border-radius: var(--border-radius);
            padding: 25px;
            box-shadow: var(--shadow-md);
            margin-bottom: 30px;
        }

        .settings-card h2 {
            margin-bottom: 20px;
            color: var(--primary-color);
            font-size: 1.3rem;
            padding-bottom: 10px;
            border-bottom: 1px solid rgba(0, 0, 0, 0.1);
        }

        .settings-group {
            margin-bottom: 25px;
        }

        .settings-group h3 {
            font-size: 1rem;
            margin-bottom: 15px;
            color: var(--dark-color);
        }

        /* Toggle Switch */
        .switch {
            position: relative;
            display: inline-block;
            width: 50px;
            height: 24px;
        }

        .switch input {
            opacity: 0;
            width: 0;
            height: 0;
        }

        .slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: #ccc;
            transition: .4s;
            border-radius: 34px;
        }

        .slider:before {
            position: absolute;
            content: "";
            height: 16px;
            width: 16px;
            left: 4px;
            bottom: 4px;
            background-color: white;
            transition: .4s;
            border-radius: 50%;
        }

        input:checked + .slider {
            background-color: var(--primary-color);
        }

        input:checked + .slider:before {
            transform: translateX(26px);
        }

        /* Modal Styles */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            z-index: 1000;
            justify-content: center;
            align-items: center;
        }

        .modal-content {
            background-color: white;
            border-radius: var(--border-radius);
            box-shadow: var(--shadow-xl);
            width: 90%;
            max-width: 500px;
            padding: 25px;
            position: relative;
        }

        .modal-header {
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 1px solid rgba(0, 0, 0, 0.1);
        }

        .modal-header h3 {
            color: var(--dark-color);
        }

        .modal-body {
            margin-bottom: 25px;
        }

        .modal-footer {
            display: flex;
            justify-content: flex-end;
            gap: 10px;
        }

        .close-modal {
            position: absolute;
            top: 15px;
            right: 15px;
            font-size: 1.5rem;
            color: var(--text-light);
            cursor: pointer;
            background: none;
            border: none;
        }

        /* Tab Navigation */
        .tab-nav {
            display: flex;
            border-bottom: 1px solid rgba(0, 0, 0, 0.1);
            margin-bottom: 20px;
        }

        .tab-link {
            padding: 10px 20px;
            cursor: pointer;
            font-weight: 500;
            color: var(--text-light);
            position: relative;
            transition: var(--transition);
        }

        .tab-link.active {
            color: var(--primary-color);
        }

        .tab-link.active::after {
            content: '';
            position: absolute;
            bottom: -1px;
            left: 0;
            width: 100%;
            height: 2px;
            background-color: var(--primary-color);
        }

        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
        }

        /* Responsive Design */
        @media (max-width: 1200px) {
            .stats-grid {
                grid-template-columns: repeat(2, 1fr);
            }
        }

        @media (max-width: 992px) {
            .sidebar {
                width: 70px;
                overflow: hidden;
            }
            
            .sidebar-title, .menu-item span {
                display: none;
            }
            
            .menu-item {
                justify-content: center;
                padding: 15px 0;
            }
            
            .menu-item i {
                margin-right: 0;
                font-size: 1.2rem;
            }
            
            .main-content {
                margin-left: 70px;
            }
            
            .form-row {
                grid-template-columns: 1fr;
            }
        }

        @media (max-width: 768px) {
            .stats-grid {
                grid-template-columns: 1fr;
            }
            
            table {
                display: block;
                overflow-x: auto;
            }
            
            .admin-header {
                flex-direction: column;
                align-items: flex-start;
            }
            
            .user-profile {
                margin-top: 15px;
            }
        }

        @media (max-width: 576px) {
            .sidebar {
                transform: translateX(-100%);
                position: fixed;
                width: 250px;
                z-index: 1000;
            }
            
            .sidebar.active {
                transform: translateX(0);
            }
            
            .main-content {
                margin-left: 0;
            }
            
            .menu-toggle {
                display: block;
                font-size: 1.5rem;
                color: var(--dark-color);
                cursor: pointer;
                margin-right: 15px;
            }

            .admin-content {
                padding: 20px 15px;
            }

            .table-header {
                flex-direction: column;
                align-items: flex-start;
                gap: 15px;
            }

            .search-box input {
                width: 100%;
            }

            .modal-content {
                width: 95%;
                padding: 15px;
            }
        }

        /* Animation */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .fade-in {
            animation: fadeIn 0.5s ease forwards;
        }
    </style>
</head>
<body>
    <div class="admin-container">
        <!-- Sidebar -->
        <div class="sidebar" id="sidebar">
            <div class="sidebar-header">
                <div class="sidebar-logo">
                    <img src="https://trendseducation.github.io/classmanagement/Student%20Details%202025-26/Icon/Image/Egyan%20Logo%20NB.png" alt="E-Gyan Logo">
                </div>
                <div class="sidebar-title">E-Gyan</div>
            </div>
            <div class="sidebar-menu">
                <a href="#" class="menu-item" data-tab="dashboard">
                    <i class="fas fa-tachometer-alt"></i>
                    <span>Dashboard</span>
                </a>
                <a href="#" class="menu-item active" data-tab="blog">
                    <i class="fas fa-blog"></i>
                    <span>Blog Posts</span>
                </a>
                <a href="#" class="menu-item" data-tab="users">
                    <i class="fas fa-users"></i>
                    <span>Users</span>
                </a>
                <a href="#" class="menu-item" data-tab="settings">
                    <i class="fas fa-cog"></i>
                    <span>Settings</span>
                </a>
                <a href="blog.html" class="menu-item">
                    <i class="fas fa-external-link-alt"></i>
                    <span>View Blog</span>
                </a>
            </div>
        </div>

        <!-- Main Content -->
        <div class="main-content">
            <!-- Header -->
            <div class="admin-header">
                <div class="header-title">
                    <h1 id="pageTitle">Blog Posts</h1>
                    <p id="pageSubtitle">Manage and publish blog content</p>
                </div>
                <div class="user-profile" id="userProfile">
                    <img src="https://randomuser.me/api/portraits/men/32.jpg" alt="Admin User" id="profileImage">
                    <div class="user-info">
                        <h4 id="profileName">Admin User</h4>
                        <p>Administrator</p>
                    </div>
                    <div class="profile-dropdown" id="profileDropdown">
                        <a href="#" class="dropdown-item" id="editProfileBtn">
                            <i class="fas fa-user-edit"></i> Edit Profile
                        </a>
                        <a href="#" class="dropdown-item">
                            <i class="fas fa-sign-out-alt"></i> Logout
                        </a>
                    </div>
                </div>
            </div>

            <!-- Content -->
            <div class="admin-content">
                <!-- Dashboard Tab -->
                <div class="tab-content active" id="dashboard-tab">
                    <div class="stats-grid">
                        <div class="stat-card card-primary fade-in">
                            <div class="stat-icon">
                                <i class="fas fa-blog"></i>
                            </div>
                            <div class="stat-info">
                                <h3 id="totalPosts">0</h3>
                                <p>Total Posts</p>
                            </div>
                        </div>
                        <div class="stat-card card-success fade-in">
                            <div class="stat-icon">
                                <i class="fas fa-eye"></i>
                            </div>
                            <div class="stat-info">
                                <h3 id="totalViews">0</h3>
                                <p>Total Views</p>
                            </div>
                        </div>
                        <div class="stat-card card-warning fade-in">
                            <div class="stat-icon">
                                <i class="fas fa-pen"></i>
                            </div>
                            <div class="stat-info">
                                <h3 id="totalDrafts">0</h3>
                                <p>Drafts</p>
                            </div>
                        </div>
                        <div class="stat-card card-danger fade-in">
                            <div class="stat-icon">
                                <i class="fas fa-comments"></i>
                            </div>
                            <div class="stat-info">
                                <h3 id="totalComments">0</h3>
                                <p>Comments</p>
                            </div>
                        </div>
                    </div>

                    <div class="activity-card fade-in">
                        <h2>Recent Activity</h2>
                        <div id="recentActivity">
                            <!-- Activity items will be added here by JavaScript -->
                        </div>
                    </div>
                </div>

                <!-- Blog Posts Tab -->
                <div class="tab-content" id="blog-tab">
                    <!-- Add New Blog Form -->
                    <div class="form-card fade-in">
                        <h2>Add New Blog Post</h2>
                        <form id="blogForm">
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="blogTitle">Blog Title</label>
                                    <input type="text" id="blogTitle" class="form-control" placeholder="Enter blog title" required>
                                </div>
                                <div class="form-group">
                                    <label for="blogDate">Publish Date</label>
                                    <input type="date" id="blogDate" class="form-control" required>
                                </div>
                            </div>
                            
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="readTime">Estimated Read Time</label>
                                    <input type="text" id="readTime" class="form-control" placeholder="e.g. 5 min" required>
                                </div>
                                <div class="form-group">
                                    <label>Status</label>
                                    <div style="display: flex; align-items: center;">
                                        <label class="switch" style="margin-right: 10px;">
                                            <input type="checkbox" id="blogStatus">
                                            <span class="slider"></span>
                                        </label>
                                        <span id="statusText">Draft</span>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="form-group">
                                <label>Featured Image</label>
                                <div class="image-upload">
                                    <img id="previewImage" src="https://via.placeholder.com/800x400?text=Upload+Blog+Image" alt="Preview">
                                    <label class="upload-btn" for="blogImage">
                                        <i class="fas fa-upload"></i>
                                        <span>Choose Image</span>
                                    </label>
                                    <input type="file" id="blogImage" accept="image/*">
                                </div>
                            </div>
                            
                            <div class="form-group">
                                <label for="blogExcerpt">Short Excerpt</label>
                                <textarea id="blogExcerpt" class="form-control" placeholder="Enter a short excerpt for the blog card" rows="3" required></textarea>
                            </div>
                            
                            <div class="form-group">
                                <label for="blogContent">Blog Content</label>
                                <textarea id="blogContent" class="form-control" placeholder="Write your blog content here..." rows="10" required></textarea>
                            </div>
                            
                            <div class="form-group" style="display: flex; justify-content: flex-end; gap: 10px;">
                                <button type="reset" class="btn btn-outline">
                                    <i class="fas fa-times"></i> Reset
                                </button>
                                <button type="submit" class="btn btn-primary">
                                    <i class="fas fa-save"></i> Publish Blog
                                </button>
                            </div>
                        </form>
                    </div>

                    <!-- Blog List Table -->
                    <div class="blog-list fade-in">
                        <div class="table-header">
                            <h3>Recent Blog Posts</h3>
                            <div class="search-box">
                                <i class="fas fa-search"></i>
                                <input type="text" placeholder="Search blogs..." id="searchInput">
                            </div>
                        </div>
                        
                        <table>
                            <thead>
                                <tr>
                                    <th>Title</th>
                                    <th>Date</th>
                                    <th>Status</th>
                                    <th>Views</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody id="blogTableBody">
                                <!-- Blog posts will be inserted here by JavaScript -->
                            </tbody>
                        </table>
                        
                        <div class="pagination">
                            <a href="#" class="page-link"><i class="fas fa-chevron-left"></i></a>
                            <a href="#" class="page-link active">1</a>
                            <a href="#" class="page-link">2</a>
                            <a href="#" class="page-link">3</a>
                            <a href="#" class="page-link"><i class="fas fa-chevron-right"></i></a>
                        </div>
                    </div>
                </div>

                <!-- Users Tab -->
                <div class="tab-content" id="users-tab">
                    <div class="user-card fade-in">
                        <h2>User Management</h2>
                        <div class="table-header">
                            <h3>All Users</h3>
                            <button class="btn btn-primary" id="addUserBtn">
                                <i class="fas fa-plus"></i> Add User
                            </button>
                        </div>
                        
                        <table>
                            <thead>
                                <tr>
                                    <th>Name</th>
                                    <th>Email</th>
                                    <th>Role</th>
                                    <th>Joined</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody id="usersTableBody">
                                <tr>
                                    <td>
                                        <div class="user-profile" style="margin: 0;">
                                            <img src="https://randomuser.me/api/portraits/men/32.jpg" alt="User" style="width: 30px; height: 30px;">
                                            <div class="user-info" style="margin-left: 10px;">
                                                <h4 style="font-size: 0.9rem; margin: 0;">Admin User</h4>
                                            </div>
                                        </div>
                                    </td>
                                    <td>admin@egyan.com</td>
                                    <td><span class="user-role role-admin">Admin</span></td>
                                    <td>Jan 15, 2023</td>
                                    <td>
                                        <button class="action-btn edit-btn"><i class="fas fa-edit"></i> Edit</button>
                                        <button class="action-btn delete-btn"><i class="fas fa-trash"></i> Delete</button>
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <div class="user-profile" style="margin: 0;">
                                            <img src="https://randomuser.me/api/portraits/women/44.jpg" alt="User" style="width: 30px; height: 30px;">
                                            <div class="user-info" style="margin-left: 10px;">
                                                <h4 style="font-size: 0.9rem; margin: 0;">Editor User</h4>
                                            </div>
                                        </div>
                                    </td>
                                    <td>editor@egyan.com</td>
                                    <td><span class="user-role role-editor">Editor</span></td>
                                    <td>Feb 28, 2023</td>
                                    <td>
                                        <button class="action-btn edit-btn"><i class="fas fa-edit"></i> Edit</button>
                                        <button class="action-btn delete-btn"><i class="fas fa-trash"></i> Delete</button>
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <div class="user-profile" style="margin: 0;">
                                            <img src="https://randomuser.me/api/portraits/men/22.jpg" alt="User" style="width: 30px; height: 30px;">
                                            <div class="user-info" style="margin-left: 10px;">
                                                <h4 style="font-size: 0.9rem; margin: 0;">Author User</h4>
                                            </div>
                                        </div>
                                    </td>
                                    <td>author@egyan.com</td>
                                    <td><span class="user-role role-author">Author</span></td>
                                    <td>Mar 10, 2023</td>
                                    <td>
                                        <button class="action-btn edit-btn"><i class="fas fa-edit"></i> Edit</button>
                                        <button class="action-btn delete-btn"><i class="fas fa-trash"></i> Delete</button>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                        
                        <div class="pagination">
                            <a href="#" class="page-link"><i class="fas fa-chevron-left"></i></a>
                            <a href="#" class="page-link active">1</a>
                            <a href="#" class="page-link">2</a>
                            <a href="#" class="page-link">3</a>
                            <a href="#" class="page-link"><i class="fas fa-chevron-right"></i></a>
                        </div>
                    </div>
                </div>

                <!-- Settings Tab -->
                <div class="tab-content" id="settings-tab">
                    <div class="settings-card fade-in">
                        <h2>General Settings</h2>
                        
                        <div class="tab-nav">
                            <div class="tab-link active" data-tab="general-settings">General</div>
                            <div class="tab-link" data-tab="blog-settings">Blog</div>
                            <div class="tab-link" data-tab="seo-settings">SEO</div>
                        </div>
                        
                        <div class="tab-content active" id="general-settings">
                            <div class="form-group">
                                <label for="siteTitle">Site Title</label>
                                <input type="text" id="siteTitle" class="form-control" value="E-Gyan Skill Development">
                            </div>
                            <div class="form-group">
                                <label for="siteDescription">Site Description</label>
                                <textarea id="siteDescription" class="form-control" rows="3">Premier Computer Institute offering practical training in Tally, Excel, Basic Computer and more</textarea>
                            </div>
                            <div class="form-group">
                                <label for="siteLogo">Site Logo</label>
                                <div class="image-upload">
                                    <img id="siteLogoPreview" src="https://trendseducation.github.io/classmanagement/Student%20Details%202025-26/Icon/Image/Egyan%20Logo%20NB.png" alt="Site Logo">
                                    <label class="upload-btn" for="siteLogo">
                                        <i class="fas fa-upload"></i>
                                        <span>Change Logo</span>
                                    </label>
                                    <input type="file" id="siteLogo" accept="image/*">
                                </div>
                            </div>
                            <div class="form-group">
                                <button class="btn btn-primary">
                                    <i class="fas fa-save"></i> Save Settings
                                </button>
                            </div>
                        </div>
                        
                        <div class="tab-content" id="blog-settings">
                            <div class="form-group">
                                <label for="postsPerPage">Posts Per Page</label>
                                <input type="number" id="postsPerPage" class="form-control" value="10">
                            </div>
                            <div class="form-group">
                                <label for="defaultPostStatus">Default Post Status</label>
                                <select id="defaultPostStatus" class="form-control">
                                    <option value="published">Published</option>
                                    <option value="draft">Draft</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label>
                                    <input type="checkbox" id="enableComments" checked> Enable Comments
                                </label>
                            </div>
                            <div class="form-group">
                                <button class="btn btn-primary">
                                    <i class="fas fa-save"></i> Save Settings
                                </button>
                            </div>
                        </div>
                        
                        <div class="tab-content" id="seo-settings">
                            <div class="form-group">
                                <label for="metaTitle">Meta Title</label>
                                <input type="text" id="metaTitle" class="form-control" value="E-Gyan Skill Development - Computer Training Institute">
                            </div>
                            <div class="form-group">
                                <label for="metaDescription">Meta Description</label>
                                <textarea id="metaDescription" class="form-control" rows="3">E-Gyan Skill Development offers practical training in Tally, Excel, Basic Computer and more. Join our courses today!</textarea>
                            </div>
                            <div class="form-group">
                                <label for="metaKeywords">Meta Keywords</label>
                                <input type="text" id="metaKeywords" class="form-control" value="computer training, tally course, excel training, basic computer course">
                            </div>
                            <div class="form-group">
                                <button class="btn btn-primary">
                                    <i class="fas fa-save"></i> Save Settings
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Delete Confirmation Modal -->
    <div class="modal" id="deleteModal">
        <div class="modal-content">
            <button class="close-modal" id="closeModal">&times;</button>
            <div class="modal-header">
                <h3>Delete Blog Post</h3>
            </div>
            <div class="modal-body">
                <p>Are you sure you want to delete this blog post? This action cannot be undone.</p>
            </div>
            <div class="modal-footer">
                <button class="btn btn-outline" id="cancelDelete">Cancel</button>
                <button class="btn btn-danger" id="confirmDelete">Delete</button>
            </div>
        </div>
    </div>

    <!-- Edit Profile Modal -->
    <div class="modal" id="profileModal">
        <div class="modal-content">
            <button class="close-modal" id="closeProfileModal">&times;</button>
            <div class="modal-header">
                <h3>Edit Profile</h3>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label for="editName">Full Name</label>
                    <input type="text" id="editName" class="form-control" value="Admin User">
                </div>
                <div class="form-group">
                    <label for="editEmail">Email</label>
                    <input type="email" id="editEmail" class="form-control" value="admin@egyan.com">
                </div>
                <div class="form-group">
                    <label>Profile Picture</label>
                    <div class="image-upload">
                        <img id="editProfilePreview" src="https://randomuser.me/api/portraits/men/32.jpg" alt="Profile Preview">
                        <label class="upload-btn" for="editProfileImage">
                            <i class="fas fa-upload"></i>
                            <span>Change Photo</span>
                        </label>
                        <input type="file" id="editProfileImage" accept="image/*">
                    </div>
                </div>
                <div class="form-group">
                    <label for="editPassword">New Password</label>
                    <input type="password" id="editPassword" class="form-control" placeholder="Leave blank to keep current">
                </div>
                <div class="form-group">
                    <label for="editConfirmPassword">Confirm Password</label>
                    <input type="password" id="editConfirmPassword" class="form-control">
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-outline" id="cancelProfileEdit">Cancel</button>
                <button class="btn btn-primary" id="saveProfile">Save Changes</button>
            </div>
        </div>
    </div>

    <!-- Add User Modal -->
    <div class="modal" id="addUserModal">
        <div class="modal-content">
            <button class="close-modal" id="closeAddUserModal">&times;</button>
            <div class="modal-header">
                <h3>Add New User</h3>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label for="newUserName">Full Name</label>
                    <input type="text" id="newUserName" class="form-control" placeholder="Enter full name">
                </div>
                <div class="form-group">
                    <label for="newUserEmail">Email</label>
                    <input type="email" id="newUserEmail" class="form-control" placeholder="Enter email address">
                </div>
                <div class="form-group">
                    <label for="newUserRole">Role</label>
                    <select id="newUserRole" class="form-control">
                        <option value="admin">Administrator</option>
                        <option value="editor">Editor</option>
                        <option value="author">Author</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="newUserPassword">Password</label>
                    <input type="password" id="newUserPassword" class="form-control" placeholder="Enter password">
                </div>
                <div class="form-group">
                    <label for="newUserConfirmPassword">Confirm Password</label>
                    <input type="password" id="newUserConfirmPassword" class="form-control" placeholder="Confirm password">
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-outline" id="cancelAddUser">Cancel</button>
                <button class="btn btn-primary" id="saveNewUser">Add User</button>
            </div>
        </div>
    </div>

    <script>
        // DOM Elements
        const blogForm = document.getElementById('blogForm');
        const blogStatus = document.getElementById('blogStatus');
        const statusText = document.getElementById('statusText');
        const blogImage = document.getElementById('blogImage');
        const previewImage = document.getElementById('previewImage');
        const blogTableBody = document.getElementById('blogTableBody');
        const searchInput = document.getElementById('searchInput');
        const deleteModal = document.getElementById('deleteModal');
        const closeModal = document.getElementById('closeModal');
        const cancelDelete = document.getElementById('cancelDelete');
        const confirmDelete = document.getElementById('confirmDelete');
        const userProfile = document.getElementById('userProfile');
        const profileDropdown = document.getElementById('profileDropdown');
        const editProfileBtn = document.getElementById('editProfileBtn');
        const profileModal = document.getElementById('profileModal');
        const closeProfileModal = document.getElementById('closeProfileModal');
        const cancelProfileEdit = document.getElementById('cancelProfileEdit');
        const saveProfile = document.getElementById('saveProfile');
        const editProfileImage = document.getElementById('editProfileImage');
        const editProfilePreview = document.getElementById('editProfilePreview');
        const profileImage = document.getElementById('profileImage');
        const profileName = document.getElementById('profileName');
        const tabLinks = document.querySelectorAll('.tab-link');
        const menuItems = document.querySelectorAll('.menu-item');
        const tabContents = document.querySelectorAll('.tab-content');
        const pageTitle = document.getElementById('pageTitle');
        const pageSubtitle = document.getElementById('pageSubtitle');
        const addUserBtn = document.getElementById('addUserBtn');
        const addUserModal = document.getElementById('addUserModal');
        const closeAddUserModal = document.getElementById('closeAddUserModal');
        const cancelAddUser = document.getElementById('cancelAddUser');
        const saveNewUser = document.getElementById('saveNewUser');
        const siteLogo = document.getElementById('siteLogo');
        const siteLogoPreview = document.getElementById('siteLogoPreview');
        const totalPosts = document.getElementById('totalPosts');
        const totalViews = document.getElementById('totalViews');
        const totalDrafts = document.getElementById('totalDrafts');
        const totalComments = document.getElementById('totalComments');
        const recentActivity = document.getElementById('recentActivity');

        // Blog data (will be loaded from localStorage)
        let blogs = [];
        let blogToDelete = null;
        let currentTab = 'blog';

        // Toggle blog status
        blogStatus.addEventListener('change', function() {
            statusText.textContent = this.checked ? 'Published' : 'Draft';
        });

        // Preview image before upload
        blogImage.addEventListener('change', function(e) {
            const file = e.target.files[0];
            if (file) {
                const reader = new FileReader();
                reader.onload = function(event) {
                    previewImage.src = event.target.result;
                }
                reader.readAsDataURL(file);
            }
        });

        // Profile image upload
        editProfileImage.addEventListener('change', function(e) {
            const file = e.target.files[0];
            if (file) {
                const reader = new FileReader();
                reader.onload = function(event) {
                    editProfilePreview.src = event.target.result;
                }
                reader.readAsDataURL(file);
            }
        });

        // Site logo upload
        siteLogo.addEventListener('change', function(e) {
            const file = e.target.files[0];
            if (file) {
                const reader = new FileReader();
                reader.onload = function(event) {
                    siteLogoPreview.src = event.target.result;
                }
                reader.readAsDataURL(file);
            }
        });

        // Toggle profile dropdown
        userProfile.addEventListener('click', function(e) {
            e.stopPropagation();
            profileDropdown.classList.toggle('active');
        });

        // Close dropdown when clicking outside
        document.addEventListener('click', function() {
            profileDropdown.classList.remove('active');
        });

        // Open profile modal
        editProfileBtn.addEventListener('click', function(e) {
            e.preventDefault();
            profileModal.style.display = 'flex';
            profileDropdown.classList.remove('active');
        });

        // Close profile modal
        closeProfileModal.addEventListener('click', function() {
            profileModal.style.display = 'none';
        });

        cancelProfileEdit.addEventListener('click', function() {
            profileModal.style.display = 'none';
        });

        // Save profile changes
        saveProfile.addEventListener('click', function() {
            const newName = document.getElementById('editName').value;
            const newEmail = document.getElementById('editEmail').value;
            const newPassword = document.getElementById('editPassword').value;
            const confirmPassword = document.getElementById('editConfirmPassword').value;
            
            if (newPassword && newPassword !== confirmPassword) {
                alert('Passwords do not match!');
                return;
            }
            
            // Update profile
            profileName.textContent = newName;
            profileImage.src = editProfilePreview.src;
            
            // Show success message
            alert('Profile updated successfully!');
            
            // Close modal
            profileModal.style.display = 'none';
        });

        // Tab navigation
        menuItems.forEach(item => {
            item.addEventListener('click', function(e) {
                e.preventDefault();
                const tab = this.getAttribute('data-tab');
                if (tab) {
                    switchTab(tab);
                }
            });
        });

        // Settings tab navigation
        tabLinks.forEach(link => {
            link.addEventListener('click', function() {
                const tab = this.getAttribute('data-tab');
                
                // Remove active class from all tabs
                tabLinks.forEach(tabLink => {
                    tabLink.classList.remove('active');
                });
                
                // Add active class to clicked tab
                this.classList.add('active');
                
                // Hide all tab contents
                document.querySelectorAll('.settings-card .tab-content').forEach(content => {
                    content.classList.remove('active');
                });
                
                // Show selected tab content
                document.getElementById(tab).classList.add('active');
            });
        });

        // Function to switch tabs
        function switchTab(tab) {
            currentTab = tab;
            
            // Update active menu item
            menuItems.forEach(item => {
                item.classList.remove('active');
                if (item.getAttribute('data-tab') === tab) {
                    item.classList.add('active');
                }
            });
            
            // Hide all tab contents
            tabContents.forEach(content => {
                content.classList.remove('active');
            });
            
            // Show selected tab content
            document.getElementById(`${tab}-tab`).classList.add('active');
            
            // Update page title
            updatePageTitle(tab);
            
            // Load data for the tab if needed
            if (tab === 'dashboard') {
                loadDashboardStats();
            } else if (tab === 'blog') {
                renderBlogTable();
            }
        }

        // Update page title based on tab
        function updatePageTitle(tab) {
            const titles = {
                'dashboard': 'Dashboard',
                'blog': 'Blog Posts',
                'users': 'User Management',
                'settings': 'Settings'
            };
            
            const subtitles = {
                'dashboard': 'Overview of your blog',
                'blog': 'Manage and publish blog content',
                'users': 'Manage user accounts and permissions',
                'settings': 'Configure your website settings'
            };
            
            pageTitle.textContent = titles[tab];
            pageSubtitle.textContent = subtitles[tab];
        }

        // Load blogs from localStorage
        function loadBlogs() {
            const savedBlogs = localStorage.getItem('eGyanBlogs');
            if (savedBlogs) {
                blogs = JSON.parse(savedBlogs);
                renderBlogTable();
            } else {
                // Initialize with sample data if none exists
                blogs = [
                    {
                        id: 1,
                        title: "Introduction to Python Programming",
                        image: "https://images.unsplash.com/photo-1542831371-29b0f74f9713?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1470&q=80",
                        excerpt: "Learn the fundamentals of Python, one of the most popular programming languages for beginners and professionals alike.",
                        date: "June 15, 2023",
                        readTime: "5 min",
                        views: "1.2K",
                        content: `<p>Python has become one of the most popular programming languages in the world, and for good reason. Its simple syntax and readability make it an excellent choice for beginners, while its powerful libraries and frameworks make it indispensable for professionals.</p>`,
                        status: "published"
                    },
                    {
                        id: 2,
                        title: "Web Development with JavaScript",
                        image: "https://images.unsplash.com/photo-1627398242454-45a1465c2479?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1374&q=80",
                        excerpt: "Master the language of the web and build interactive websites with JavaScript frameworks.",
                        date: "June 18, 2023",
                        readTime: "7 min",
                        views: "1.8K",
                        content: `<p>JavaScript is the backbone of modern web development, enabling interactive and dynamic user experiences. This course will take you from JavaScript basics to advanced concepts used in professional development.</p>`,
                        status: "published"
                    },
                    {
                        id: 3,
                        title: "Data Science Fundamentals (Draft)",
                        image: "https://images.unsplash.com/photo-1551288049-bebda4e38f71?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1470&q=80",
                        excerpt: "Explore the world of data analysis and machine learning with Python libraries.",
                        date: "June 22, 2023",
                        readTime: "8 min",
                        views: "0",
                        content: `<p>Data science is transforming industries by turning raw data into actionable insights. This course introduces you to the essential tools and techniques used by data scientists worldwide.</p>`,
                        status: "draft"
                    }
                ];
                saveBlogs();
                renderBlogTable();
            }
        }

        // Save blogs to localStorage
        function saveBlogs() {
            localStorage.setItem('eGyanBlogs', JSON.stringify(blogs));
        }

        // Render blog table
        function renderBlogTable(filteredBlogs = null) {
            const dataToRender = filteredBlogs || blogs;
            blogTableBody.innerHTML = '';
            
            dataToRender.forEach(blog => {
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td>${blog.title}</td>
                    <td>${blog.date}</td>
                    <td><span class="status status-${blog.status}">${blog.status === 'published' ? 'Published' : 'Draft'}</span></td>
                    <td>${blog.views}</td>
                    <td>
                        <button class="action-btn edit-btn" data-id="${blog.id}"><i class="fas fa-edit"></i> Edit</button>
                        <button class="action-btn delete-btn" data-id="${blog.id}"><i class="fas fa-trash"></i> Delete</button>
                    </td>
                `;
                blogTableBody.appendChild(row);
            });

            // Add event listeners to edit and delete buttons
            document.querySelectorAll('.edit-btn').forEach(btn => {
                btn.addEventListener('click', (e) => {
                    const id = parseInt(e.currentTarget.getAttribute('data-id'));
                    editBlog(id);
                });
            });

            document.querySelectorAll('.delete-btn').forEach(btn => {
                btn.addEventListener('click', (e) => {
                    const id = parseInt(e.currentTarget.getAttribute('data-id'));
                    showDeleteModal(id);
                });
            });
        }

        // Load dashboard stats
        function loadDashboardStats() {
            const blogData = loadBlogs();
            
            // Calculate stats
            const publishedCount = blogs.filter(blog => blog.status === 'published').length;
            const draftCount = blogs.filter(blog => blog.status === 'draft').length;
            const totalViews = blogs.reduce((sum, blog) => {
                return sum + parseInt(blog.views.replace('K', '000')) || 0;
            }, 0);
            
            // Update stats
            document.getElementById('totalPosts').textContent = blogs.length;
            document.getElementById('totalDrafts').textContent = draftCount;
            document.getElementById('totalViews').textContent = (totalViews / 1000).toFixed(1) + 'K';
            document.getElementById('totalComments').textContent = '87';
            
            // Load recent activity
            loadRecentActivity();
        }

        // Load recent activity
        function loadRecentActivity() {
            const activities = [
                {
                    icon: 'fas fa-pen',
                    title: 'New blog post published',
                    description: 'Introduction to Python Programming was published',
                    time: '2 hours ago'
                },
                {
                    icon: 'fas fa-user-plus',
                    title: 'New user registered',
                    description: 'Editor User joined the team',
                    time: '1 day ago'
                },
                {
                    icon: 'fas fa-comment',
                    title: 'New comment received',
                    description: 'John Doe commented on Web Development with JavaScript',
                    time: '2 days ago'
                },
                {
                    icon: 'fas fa-cog',
                    title: 'Settings updated',
                    description: 'Site title was changed to E-Gyan Skill Development',
                    time: '3 days ago'
                }
            ];
            
            recentActivity.innerHTML = '';
            
            activities.forEach(activity => {
                const item = document.createElement('div');
                item.className = 'activity-item';
                item.innerHTML = `
                    <div class="activity-icon">
                        <i class="${activity.icon}"></i>
                    </div>
                    <div class="activity-content">
                        <h4>${activity.title}</h4>
                        <p>${activity.description}</p>
                        <div class="activity-time">
                            <i class="far fa-clock"></i> ${activity.time}
                        </div>
                    </div>
                `;
                recentActivity.appendChild(item);
            });
        }

        // Search functionality
        searchInput.addEventListener('input', (e) => {
            const searchTerm = e.target.value.toLowerCase();
            if (searchTerm === '') {
                renderBlogTable();
            } else {
                const filteredBlogs = blogs.filter(blog => 
                    blog.title.toLowerCase().includes(searchTerm) || 
                    blog.excerpt.toLowerCase().includes(searchTerm)
                );
                renderBlogTable(filteredBlogs);
            }
        });

        // Form submission
        blogForm.addEventListener('submit', function(e) {
            e.preventDefault();
            
            // Get form values
            const title = document.getElementById('blogTitle').value;
            const date = document.getElementById('blogDate').value;
            const readTime = document.getElementById('readTime').value;
            const status = blogStatus.checked ? 'published' : 'draft';
            const excerpt = document.getElementById('blogExcerpt').value;
            const content = document.getElementById('blogContent').value;
            const image = previewImage.src;
            
            // Create new blog object
            const newBlog = {
                id: Date.now(), // Using timestamp as ID
                title,
                image,
                excerpt,
                date: new Date(date).toLocaleDateString('en-US', { year: 'numeric', month: 'long', day: 'numeric' }),
                readTime,
                views: "0",
                content: `<p>${content.replace(/\n/g, '</p><p>')}</p>`,
                status
            };
            
            // Add to blogs array
            blogs.unshift(newBlog);
            saveBlogs();
            
            // Show success message
            alert('Blog post saved successfully!');
            
            // Reset form
            blogForm.reset();
            previewImage.src = "https://via.placeholder.com/800x400?text=Upload+Blog+Image";
            statusText.textContent = 'Draft';
            blogStatus.checked = false;
            
            // Update table
            renderBlogTable();
        });

        // Edit blog
        function editBlog(id) {
            const blog = blogs.find(b => b.id === id);
            if (!blog) return;

            // Fill form with blog data
            document.getElementById('blogTitle').value = blog.title;
            document.getElementById('blogDate').value = new Date(blog.date).toISOString().split('T')[0];
            document.getElementById('readTime').value = blog.readTime;
            document.getElementById('blogExcerpt').value = blog.excerpt;
            document.getElementById('blogContent').value = blog.content.replace(/<\/?p>/g, '\n').trim();
            previewImage.src = blog.image;
            blogStatus.checked = blog.status === 'published';
            statusText.textContent = blog.status === 'published' ? 'Published' : 'Draft';

            // Scroll to form
            document.querySelector('.form-card').scrollIntoView({ behavior: 'smooth' });

            // Remove the blog from the array (we'll add the edited version back later)
            blogs = blogs.filter(b => b.id !== id);
        }

        // Show delete confirmation modal
        function showDeleteModal(id) {
            blogToDelete = id;
            deleteModal.style.display = 'flex';
        }

        // Close modal
        function closeDeleteModal() {
            deleteModal.style.display = 'none';
            blogToDelete = null;
        }

        // Event listeners for modal
        closeModal.addEventListener('click', closeDeleteModal);
        cancelDelete.addEventListener('click', closeDeleteModal);

        // Confirm delete
        confirmDelete.addEventListener('click', () => {
            if (blogToDelete) {
                blogs = blogs.filter(blog => blog.id !== blogToDelete);
                saveBlogs();
                renderBlogTable();
                closeDeleteModal();
            }
        });

        // Close modal when clicking outside
        window.addEventListener('click', (e) => {
            if (e.target === deleteModal) {
                closeDeleteModal();
            } else if (e.target === profileModal) {
                profileModal.style.display = 'none';
            } else if (e.target === addUserModal) {
                addUserModal.style.display = 'none';
            }
        });

        // Add user functionality
        addUserBtn.addEventListener('click', function() {
            addUserModal.style.display = 'flex';
        });

        closeAddUserModal.addEventListener('click', function() {
            addUserModal.style.display = 'none';
        });

        cancelAddUser.addEventListener('click', function() {
            addUserModal.style.display = 'none';
        });

        saveNewUser.addEventListener('click', function() {
            const name = document.getElementById('newUserName').value;
            const email = document.getElementById('newUserEmail').value;
            const role = document.getElementById('newUserRole').value;
            const password = document.getElementById('newUserPassword').value;
            const confirmPassword = document.getElementById('newUserConfirmPassword').value;
            
            if (!name || !email || !password) {
                alert('Please fill in all required fields!');
                return;
            }
            
            if (password !== confirmPassword) {
                alert('Passwords do not match!');
                return;
            }
            
            // In a real app, you would send this data to your server
            alert('User added successfully!');
            
            // Close modal
            addUserModal.style.display = 'none';
            
            // Reset form
            document.getElementById('newUserName').value = '';
            document.getElementById('newUserEmail').value = '';
            document.getElementById('newUserPassword').value = '';
            document.getElementById('newUserConfirmPassword').value = '';
        });

        // Initialize
        document.addEventListener('DOMContentLoaded', () => {
            loadBlogs();
            
            // Set up tab switching
            switchTab(currentTab);
            
            // Load dashboard stats if on dashboard
            if (currentTab === 'dashboard') {
                loadDashboardStats();
            }
        });
    </script>
</body>
</html>